{
  "variables": [],
  "info": {
    "name": "Requests API (used by Jenkins) - Admin - Public",
    "_postman_id": "1867b2c0-fcdf-9eef-0e5d-d219930e121c",
    "description": "This collection contains requests used by Jenkins to test our API",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
  },
  "item": [
    {
      "_postman_id": "8cebfdd8-f5f5-998c-680d-fc9f4eddbdfb",
      "name": "https://gst.atreal.fr/api/v1/ping",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "tests[\"Response is OK\"] = responseBody === 'OK';"
            ]
          }
        }
      ],
      "request": {
        "url": "https://gst.atreal.fr/api/v1/ping",
        "method": "GET",
        "header": [
          {
            "key": "Accept",
            "value": "*/*",
            "description": ""
          },
          {
            "key": "X-Requested-With",
            "value": "XMLHttpRequest",
            "description": ""
          },
          {
            "key": "User-Agent",
            "value": "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36",
            "description": ""
          },
          {
            "key": "Authorization",
            "value": "Token token=7695535153c9e8acb19c1830ce8736fa",
            "description": ""
          },
          {
            "key": "Accept-Encoding",
            "value": "gzip, deflate, sdch, br",
            "description": ""
          },
          {
            "key": "Accept-Language",
            "value": "fr-FR,fr;q=0.8,en-US;q=0.6,en;q=0.4",
            "description": ""
          },
          {
            "key": "Cookie",
            "value": "session0|session_id=%22%22; connect.sid=s%3A9e984315-4d55-496c-a7cf-06bfe711df3a.OD85HPOJ8clIOZxagfEX%2Fps7Pi%2BuSliu%2FU0SAFI1wmw; sessionid=52314e2d3754f719c3710fe8750a7c6d8b8acbd9",
            "description": ""
          }
        ],
        "body": {},
        "description": "test if resaframe in prod is up"
      },
      "response": []
    },
    {
      "_postman_id": "390c11f2-c664-bb0f-f4a5-67d5c8770392",
      "name": "http://gmao.ville-lannion.fr/api/v1/lannion/open_object/partners?",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Lannion resaframe ASSO select seems fine\"] = responseCode.code === 200;"
            ]
          }
        }
      ],
      "request": {
        "url": "http://gmao.ville-lannion.fr/api/v1/lannion/open_object/partners?fields%5B%5D=id&fields%5B%5D=name&filters%5B0%5D%5Bfield%5D=name&filters%5B0%5D%5Boperator%5D=ilike&filters%5B0%5D%5Bvalue%5D=&filters%5B1%5D%5Bfield%5D=type_id.code&filters%5B1%5D%5Boperator%5D=ilike&filters%5B1%5D%5Bvalue%5D=ASSO",
        "method": "GET",
        "header": [
          {
            "key": "Accept",
            "value": "*/*",
            "description": ""
          },
          {
            "key": "X-Requested-With",
            "value": "XMLHttpRequest",
            "description": ""
          },
          {
            "key": "User-Agent",
            "value": "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36",
            "description": ""
          },
          {
            "key": "Authorization",
            "value": "Token token=7695535153c9e8acb19c1830ce8736fa",
            "description": ""
          },
          {
            "key": "Referer",
            "value": "https://gst.atreal.fr/saint-barthelemy-anjou/resaframe/index.html",
            "description": ""
          },
          {
            "key": "Accept-Encoding",
            "value": "gzip, deflate, sdch, br",
            "description": ""
          },
          {
            "key": "Accept-Language",
            "value": "fr-FR,fr;q=0.8,en-US;q=0.6,en;q=0.4",
            "description": ""
          },
          {
            "key": "Cookie",
            "value": "session0|session_id=%22%22; connect.sid=s%3A9e984315-4d55-496c-a7cf-06bfe711df3a.OD85HPOJ8clIOZxagfEX%2Fps7Pi%2BuSliu%2FU0SAFI1wmw; sessionid=52314e2d3754f719c3710fe8750a7c6d8b8acbd9",
            "description": ""
          }
        ],
        "body": {},
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "49286977-a970-4e74-1a25-41ba9d772704",
      "name": "https://gst.atreal.fr/api/v1/lamontagne/open_object/partners?",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"La Montagne resaframe ASSO select seems fine\"] = responseCode.code === 200;"
            ]
          }
        }
      ],
      "request": {
        "url": "https://gst.atreal.fr/api/v1/lamontagne/open_object/partners?fields%5B%5D=id&fields%5B%5D=name&filters%5B0%5D%5Bfield%5D=name&filters%5B0%5D%5Boperator%5D=ilike&filters%5B0%5D%5Bvalue%5D=&filters%5B1%5D%5Bfield%5D=type_id.name&filters%5B1%5D%5Boperator%5D=ilike&filters%5B1%5D%5Bvalue%5D=asso",
        "method": "GET",
        "header": [
          {
            "key": "Accept",
            "value": "*/*",
            "description": ""
          },
          {
            "key": "X-Requested-With",
            "value": "XMLHttpRequest",
            "description": ""
          },
          {
            "key": "User-Agent",
            "value": "Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2840.99 Safari/537.36",
            "description": ""
          },
          {
            "key": "Authorization",
            "value": "Token token=7695535153c9e8acb19c1830ce8736fa",
            "description": ""
          },
          {
            "key": "Referer",
            "value": "https://gst.atreal.fr/saint-barthelemy-anjou/resaframe/index.html",
            "description": ""
          },
          {
            "key": "Accept-Encoding",
            "value": "gzip, deflate, sdch, br",
            "description": ""
          },
          {
            "key": "Accept-Language",
            "value": "fr-FR,fr;q=0.8,en-US;q=0.6,en;q=0.4",
            "description": ""
          },
          {
            "key": "Cookie",
            "value": "session0|session_id=%22%22; connect.sid=s%3A9e984315-4d55-496c-a7cf-06bfe711df3a.OD85HPOJ8clIOZxagfEX%2Fps7Pi%2BuSliu%2FU0SAFI1wmw; sessionid=52314e2d3754f719c3710fe8750a7c6d8b8acbd9",
            "description": ""
          }
        ],
        "body": {},
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "3056b712-125e-16f5-f80a-15a84013818c",
      "name": "authenticate",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "tests[\"Response time is less than 1000ms\"] = responseTime < 1000;",
              "var jsonData = JSON.parse(responseBody);",
              "postman.setEnvironmentVariable(\"sessionId\", jsonData.result.session_id);",
              "postman.setEnvironmentVariable(\"uid\", jsonData.result.uid);",
              "tests[\"Authenticate Bdd\"] = jsonData.result.db === 'test_api';",
              "",
              "if (jsonData.result.db === 'test_api'){",
              "    if(jsonData.result.login === \"admin\")",
              "        tests[\"Authenticate as admin\"] = jsonData.result.uid === 1;",
              "    ",
              "    if(jsonData.result.login === \"cdupont\")",
              "        tests[\"Authenticate as demandeur externe\"] = jsonData.result.uid === 88;",
              "    ",
              "    if(jsonData.result.login === \"dst\")",
              "        tests[\"Authenticate as gestionnaire\"] = jsonData.result.uid === 104;",
              "}",
              "",
              "//Check if the content type is json",
              "var contentTypeHeader = responseHeaders.hasOwnProperty(\"Content-Type\")",
              "if (contentTypeHeader) {",
              "    tests[\"Content-Type is application/json\"] = ",
              "      responseHeaders[\"Content-Type\"].has(\"application/json\");",
              "}",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "{{server}}/web/session/authenticate",
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json;charset=UTF-8",
            "description": ""
          },
          {
            "key": "Accept",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"id\": \"r1\",\r\n  \"jsonrpc\": \"2.0\",\r\n  \"method\": \"call\",\r\n  \"params\": {\r\n    \"login\": \"{{login}}\",\r\n    \"password\": \"{{password}}\",\r\n    \"db\": \"{{db}}\"\r\n  }\r\n}"
        },
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "e24b0325-ec42-c177-cb40-315af5b3bbd1",
      "name": "get 'res.users'",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "tests[\"get id\"] = jsonData.id === 'r2';",
              "tests[\"get action id\"] = jsonData.result[0].action_id[0] ===106;",
              "",
              "//Tests below allow you to test user's bdd ",
              "if(jsonData.result[0].isManager ===true)",
              "    tests[\"get Users Bdd as Admin\"] = jsonData.result[0].user_id[1]==='Administrator';",
              "else if(jsonData.result[0].is_bookable_manager ===true)",
              "    tests[\"get Users Bdd as Gestionnaire\"] = jsonData.result[0].user_id[1]==='dst 02'; //Gestionnaire",
              "else",
              "    tests[\"get Users Bdd as Demandeur externe\"] = jsonData.result[0].user_id[1]==='DUPONT Chantal';//Demandeur externe",
              "",
              "",
              "",
              "//Get current Group for user",
              "if(jsonData.result[0].is_bookable_manager ===true){",
              "    tests[\"get current Group\"] = jsonData.result[0].current_group[1] ==='Gestionnaire des demandes';",
              "}",
              "else{",
              "    tests[\"get current Group\"] = jsonData.result[0].current_group[1] ==='Demandeur';",
              "}",
              "",
              "if(jsonData.result[0].user_id[1]==='Administrator'){",
              "    tests[\"get achat Group\"] = jsonData.result[0].achat_group[1] ==='Demandeur';",
              "}else{",
              "    tests[\"get achat Group\"] = jsonData.result[0].achat_group === false;",
              "}",
              "",
              "if((jsonData.result[0].isManager === false)&& (jsonData.result[0].is_bookable_manager ===true))",
              "{",
              "    tests[\"get openresa Group\"] = jsonData.result[0].openresa_group[1] === 'Gestionnaire';",
              "}",
              "",
              "if(jsonData.result[0].isManager === true){",
              "tests[\"get patrimoine Group\"] = jsonData.result[0].patrimoine_group[1] === 'Superviseur';",
              "tests[\"get user_id\"] = jsonData.result[0].user_id[1] === 'Administrator';",
              "    ",
              "}",
              "",
              "// When the person's right is Adminitrator return true, otherwise it will return false",
              "if(jsonData.result[0].user_id[1]==='Administrator'){",
              "    tests[\"Check Manager right\"] = jsonData.result[0].isManager ===true;    ",
              "}else{",
              "    tests[\"Check Manager right\"] = jsonData.result[0].isManager ===false;",
              "}",
              "",
              "// When the person's right is Adminitrator or  Gestionnaire return true, otherwise it will return false",
              "if(jsonData.result[0].user_id[1]==='Administrator'||jsonData.result[0].user_id[1]==='dst 02'){",
              "    tests[\"Check Bookable_Manager\"]= jsonData.result[0].is_bookable_manager ===true;",
              "    ",
              "}",
              "else{",
              "    tests[\"Check Bookable_Manager\"]= jsonData.result[0].is_bookable_manager ===false;",
              "}",
              "",
              "// When the person's right is Adminitrator or  Gestionnaire return true, otherwise it will return false",
              "if(jsonData.result[0].user_id[1]==='Administrator'||jsonData.result[0].user_id[1]==='dst 02'){",
              "    tests[\"Check ResaManager\"] = jsonData.result[0].isResaManager=== true;",
              "}",
              "else{",
              "    tests[\"Check ResaManager\"] = jsonData.result[0].isResaManager=== false;",
              "}"
            ]
          }
        }
      ],
      "request": {
        "url": "{{server}}/web/dataset/get",
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json;charset=UTF-8",
            "description": ""
          },
          {
            "key": "Accept",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"id\": \"r2\",\r\n  \"jsonrpc\": \"2.0\",\r\n  \"method\": \"call\",\r\n  \"params\": {\r\n    \"model\": \"res.users\",\r\n    \"ids\": [{{uid}}],\r\n    \"session_id\": \"{{sessionId}}\"\r\n  }\r\n}"
        },
        "description": "pour connaitre des infos à renseigner dans la demande"
      },
      "response": []
    },
    {
      "_postman_id": "e188fe84-cbd5-7c23-b759-5db635b84bab",
      "name": "get Organisations 'Particuliers Commune' id",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "postman.setEnvironmentVariable(\"resPartner.id\", jsonData.result.ids[0]);",
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "tests[\"Find one 'Particuliers Commune'\"] = jsonData.result.length === 1;"
            ]
          }
        }
      ],
      "request": {
        "url": "{{server}}/web/dataset/search_read",
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json;charset=UTF-8",
            "description": ""
          },
          {
            "key": "Accept",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"id\": \"r2\",\r\n  \"jsonrpc\": \"2.0\",\r\n  \"method\": \"call\",\r\n  \"params\": {\r\n    \"sort\": \"name ASC\",\r\n    \"limit\": 20,\r\n    \"offset\": 0,\r\n    \"model\": \"res.partner\",\r\n    \"fields\": [\r\n      \"id\"\r\n    ],\r\n    \"domain\": [\r\n      [\r\n        \"name\",\r\n        \"ilike\",\r\n        \"Particuliers Commune\"\r\n      ],\r\n      [\r\n        \"subname\",\r\n        \"ilike\",\r\n        \"Particuliers Commune\"\r\n      ]\r\n    ],\r\n    \"session_id\": \"{{sessionId}}\",\r\n    \"context\": {\r\n      \"__ref\": \"compound_context\",\r\n      \"__contexts\": [\r\n        {\r\n          \"lang\": \"fr_FR\",\r\n          \"tz\": \"Europe/Paris\",\r\n          \"uid\": {{uid}}\r\n        },\r\n        {\r\n          \"bin_size\": true\r\n        }\r\n      ],\r\n      \"__eval_context\": null\r\n    }\r\n  }\r\n}"
        },
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "beb117e5-c792-1df7-5b96-845d04d65fca",
      "name": "get Roles 'Demandeur externe' id",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "postman.setEnvironmentVariable(\"resGroups.DemandeurExterne.id\", jsonData.result.ids[0]);",
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "tests[\"Find one 'Demandeur externe'\"] = jsonData.result.length === 1;"
            ]
          }
        }
      ],
      "request": {
        "url": "{{server}}/web/dataset/search_read",
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json;charset=UTF-8",
            "description": ""
          },
          {
            "key": "Accept",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"id\": \"r3\",\r\n  \"jsonrpc\": \"2.0\",\r\n  \"method\": \"call\",\r\n  \"params\": {\r\n    \"sort\": \"name ASC\",\r\n    \"limit\": 0,\r\n    \"offset\": 0,\r\n    \"fields\": [\r\n      \"id\"\r\n    ],\r\n    \"model\": \"res.groups\",\r\n    \"domain\": [\r\n      [\r\n        \"name\",\r\n        \"ilike\",\r\n        \"Demandeur externe\"\r\n      ],\r\n      [\r\n        \"full_name\",\r\n        \"ilike\",\r\n        \"Demandeur externe\"\r\n      ]\r\n    ],\r\n    \"session_id\": \"{{sessionId}}\",\r\n    \"context\": {\r\n      \"__ref\": \"compound_context\",\r\n      \"__contexts\": [\r\n        {\r\n          \"lang\": \"fr_FR\",\r\n          \"tz\": \"Europe/Paris\",\r\n          \"uid\": {{uid}}\r\n        },\r\n        {\r\n          \"bin_size\": true\r\n        }\r\n      ],\r\n      \"__eval_context\": null\r\n    }\r\n  }\r\n}"
        },
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "2bfc828b-9b7b-25b5-28ff-7e4364e8fbe6",
      "name": "get Roles 'Demandeur' id copy",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "postman.setEnvironmentVariable(\"resGroups.Demandeur.id\", jsonData.result.ids[0]);",
              "tests[\"Find one 'Demandeur'\"] = jsonData.result.length === 1;"
            ]
          }
        }
      ],
      "request": {
        "url": "{{server}}/web/dataset/search_read",
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json;charset=UTF-8",
            "description": ""
          },
          {
            "key": "Accept",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"id\": \"r3\",\r\n  \"jsonrpc\": \"2.0\",\r\n  \"method\": \"call\",\r\n  \"params\": {\r\n    \"sort\": \"name ASC\",\r\n    \"limit\": 0,\r\n    \"offset\": 0,\r\n    \"fields\": [\r\n      \"id\",\r\n      \"name\",\r\n      \"implied_ids\",\r\n      \"trans_implied_ids\",\r\n      \"category_id\",\r\n      \"code\"\r\n    ],\r\n    \"model\": \"res.groups\",\r\n    \"domain\": [\r\n      [\r\n        \"name\",\r\n        \"ilike\",\r\n        \"Demandeur\"\r\n      ],\r\n      [\r\n        \"full_name\",\r\n        \"ilike\",\r\n        \"Demandeur\"\r\n      ],\r\n            [\r\n        \"code\",\r\n        \"ilike\",\r\n        \"PART\"\r\n      ]\r\n    ],\r\n    \"session_id\": \"{{sessionId}}\",\r\n    \"context\": {\r\n      \"__ref\": \"compound_context\",\r\n      \"__contexts\": [\r\n        {\r\n          \"lang\": \"fr_FR\",\r\n          \"tz\": \"Europe/Paris\",\r\n          \"uid\": {{uid}}\r\n        },\r\n        {\r\n          \"bin_size\": true\r\n        }\r\n      ],\r\n      \"__eval_context\": null\r\n    }\r\n  }\r\n}"
        },
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "d7b73116-3247-1fa5-e584-10b50bc02f2f",
      "name": "search_read users",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "tests[\"Response time is less than 2000ms\"] = responseTime < 2000;",
              "postman.setEnvironmentVariable(\"userNumber\", jsonData.result.length);",
              "//var increment = postman.setEnvironmentVariable(\"userNumber\", jsonData.result.length++);",
              "tests[\"Find users\"] = jsonData.result.ids.length != 1;",
              "",
              "if(jsonData.result.records[1].name === \"Administrator\"){",
              "     ",
              "        tests[\"Check admin isResaManager\"] = jsonData.result.records[1].isResaManager===true;",
              "        tests[\"Check admin isDST\"]= jsonData.result.records[1].isDST === true;",
              "        tests[\"Check admin is_bookable_manager\"] =jsonData.result.records[1].is_bookable_manager=== true;",
              "        tests[\"Admin's Role in openresa_group\"] = jsonData.result.records[1].openresa_group[1] ===\"Demandeur interne\";",
              "        tests[\"Check admin isManager\"] = jsonData.result.records[1].isManager === true;",
              "    }",
              "    ",
              "if(jsonData.result.records[13].name === \"dst\"){",
              "        tests[\"Check gestionnaire is_bookable_manager\"] =jsonData.result.records[13].is_bookable_manager=== true;",
              "        tests[\"Check gestionnaire isResaManager\"] = jsonData.result.records[13].isResaManager===true;",
              "        tests[\"Check gestionnaire isDST\"]= jsonData.result.records[13].isDST === true;",
              "        tests[\"gestionnaire's role in openresa_group\"] = jsonData.result.records[13].openresa_group[1] ===\"Gestionnaire\";",
              "        tests[\"Check gestionnaire isManager\"] = jsonData.result.records[13].isManager===true;",
              "    }",
              "    ",
              "if(jsonData.result.records[15].name === \"DUPONT Chantal\"){",
              "        tests[\"Check Demandeur is_bookable_manager\"] =jsonData.result.records[15].is_bookable_manager=== false;",
              "        tests[\"Check Demandeur isResaManager\"] = jsonData.result.records[15].isResaManager===false;",
              "",
              "        tests[\"Check Demandeur isManager\"] = jsonData.result.records[15].isManager===false;",
              "    }",
              "",
              "",
              "//Check if the content type is json",
              "var contentTypeHeader = responseHeaders.hasOwnProperty(\"Content-Type\")",
              "if (contentTypeHeader) {",
              "    tests[\"Content-Type is application/json\"] = ",
              "      responseHeaders[\"Content-Type\"].has(\"application/json\");",
              "}",
              "",
              "",
              "",
              "",
              "",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "{{server}}/web/dataset/search_read",
        "method": "POST",
        "header": [
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "description": ""
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n\t\"jsonrpc\": \"2.0\",\n\t\"method\": \"call\",\n\t\"params\": {\n\t\t\"sort\": \"name ASC\",\n\t\t\"limit\": 20,\n\t\t\"offset\": 0,\n\t\t\"model\": \"res.users\",\n\t\t\"fields\": [\n\t\t\t\"achat_group\",\n\t\t\t\"actions\",\n\t\t\t\"active\",\n\t\t\t\"access_rights\",\n\t\t\t\"address_id\",\n\t\t\t\"city\",\n\t\t\t\"company_id\",\n\t\t\t\"complete_name\",\n\t\t\t\"contact_id\",\n\t\t\t\"context_lang\",\n\t\t\t\"context_tz\",\n\t\t\t\"cost\",\n\t\t\t\"current_group\",\n\t\t\t\"date\",\n\t\t\t\"email\",\n\t\t\t\"fluid_group\",\n\t\t\t\"function\",\n\t\t\t\"groups_id\",\n\t\t\t\"hex_color\",\n\t\t\t\"id\",\n\t\t\t\"is_assignable_to_task\",\n\t\t\t\"is_bookable_manager\",\n\t\t\t\"isDST\",\n\t\t\t\"isManager\",\n\t\t\t\"isResaManager\",\n\t\t\t\"lastname\",\n\t\t\t\"login\",\n\t\t\t\"managed_bookable_site_ids\",\n\t\t\t\"managed_bookable_equipment_ids\",\n\t\t\t\"managed_bookable_service_ids\",\n\t\t\t\"managed_bookables\",\n\t\t\t\"mobile\",\n\t\t\t\"name\",\n\t\t\t\"oauth_uid\",\n\t\t\t\"openresa_group\",\n\t\t\t\"patrimoine_group\",\n\t\t\t\"parcauto_group\",\n\t\t\t\"partner_id\",\n\t\t\t\"phone\",\n\t\t\t\"service_id\",\n\t\t\t\"service_ids\",\n\t\t\t\"service_names\",\n\t\t\t\"signature\",\n\t\t\t\"street\",\n\t\t\t\"tasks\",\n\t\t\t\"team_ids\",\n\t\t\t\"zip\",\n\t\t\t\"warehouse_ids\",\n\t\t\t\"openstc_employee_ref\"\n\t\t],\n\t\t\"session_id\": \"{{sessionId}}\",\n\t\t\"context\": {\n\t\t\t\"__ref\": \"compound_context\",\n\t\t\t\"__contexts\": [\n\t\t\t\t{\n\t\t\t\t\t\"lang\": \"fr_FR\",\n\t\t\t\t\t\"tz\": \"Europe/Paris\",\n\t\t\t\t\t\"uid\": {{uid}}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"bin_size\": true\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"__eval_context\": null\n\t\t}\n\t}\n}"
        },
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "9ea358ea-73c2-7bec-fb7c-25411ca51636",
      "name": "create user : Particuliers Commune",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "tests[\"User creation seems fine\"] = responseCode.code === 200;",
              "var jsonData = JSON.parse(responseBody);",
              "tests[\"User created\"] = jsonData.result.result != 1;"
            ]
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "postman.setEnvironmentVariable('userLogin','login'+postman.getEnvironmentVariable('userNumber'));",
              "postman.setEnvironmentVariable('userName','name'+postman.getEnvironmentVariable('userNumber'));"
            ]
          }
        }
      ],
      "request": {
        "url": "{{server}}/web/dataset/create",
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json;charset=UTF-8",
            "description": ""
          },
          {
            "key": "Accept",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"id\": \"r7\",\r\n  \"jsonrpc\": \"2.0\",\r\n  \"method\": \"call\",\r\n  \"params\": {\r\n    \"data\": {\r\n      \"context_tz\": \"Europe/Paris\",\r\n      \"hex_color\": \"#2B0652\",\r\n      \"service_id\": false,\r\n      \"service_ids\": [[6,  0,[]]],\r\n      \"is_assignable_to_task\": false,\r\n      \"is_bookable_manager\": false,\r\n      \"image\": false,\r\n      \"login\": \"{{userLogin}}\",\r\n      \"new_password\": \"user1Mdp\",\r\n      \"name\": \"{{userName}}\",\r\n      \"function\": \"userFonction\",\r\n      \"email\": \"user@domain.com\",\r\n      \"phone\": \"0240033021\",\r\n      \"mobile\": \"0660353212\",\r\n      \"street\": \"rue\",\r\n      \"zip\": \"44100\",\r\n      \"city\": \"nantes\",\r\n      \"partner_id\": {{resPartner.id}},\r\n      \"groups_id\": [[6,0,[{{resGroups.Demandeur.id}},  {{resGroups.DemandeurExterne.id}}]]]\r\n    },\r\n    \"model\": \"res.users\",\r\n    \"session_id\": \"{{sessionId}}\",\r\n    \"context\": {\r\n      \"__ref\": \"compound_context\",\r\n      \"__contexts\": [\r\n        {\r\n          \"lang\": \"fr_FR\",\r\n          \"tz\": \"Europe/Paris\",\r\n          \"uid\": \"{{uid}}\"\r\n        },\r\n        {\"bin_size\": true}\r\n      ],\r\n      \"__eval_context\": null\r\n    }\r\n  }\r\n}"
        },
        "description": "resGroups.id = Demandeur externe\n28 : Demandeur\nresPartner.id = Particuliers Commune"
      },
      "response": []
    },
    {
      "_postman_id": "4aa72d52-be7c-0d33-68c8-ac9c28cda649",
      "name": "create Demande intervention copy",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "tests ['Check jsonrpc'] = jsonData.jsonrpc ===\"2.0\";",
              "tests['Demande intervention exist'] = jsonData.result.result > 0;"
            ]
          }
        }
      ],
      "request": {
        "url": "{{server}}/web/dataset/create",
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json;charset=UTF-8",
            "description": ""
          },
          {
            "key": "Accept",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"id\": \"r2\",\r\n  \"jsonrpc\": \"2.0\",\r\n  \"method\": \"call\",\r\n  \"params\": {\r\n    \"data\": {\r\n      \"is_citizen\": false,\r\n      \"partner_id\": {{resPartner.id}},\r\n      \"name\": \"Libellé Demande2\",\r\n      \"site1\": 1051,\r\n      \"site_details\": \"Détails de l'emplacement2\",\r\n      \"service_id\": 2,\r\n      \"description\": \"description demande2\"\r\n    },\r\n    \"model\": \"openstc.ask\",\r\n    \"session_id\": \"{{sessionId}}\",\r\n    \"context\": {\r\n      \"__ref\": \"compound_context\",\r\n      \"__contexts\": [\r\n        {\r\n          \"lang\": \"fr_FR\",\r\n          \"tz\": \"Europe/Paris\",\r\n          \"uid\": {{uid}}\r\n        },\r\n        {\r\n          \"bin_size\": true\r\n        }\r\n      ],\r\n      \"__eval_context\": null\r\n    }\r\n  }\r\n}"
        },
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "f944bdf7-adc3-b15e-ae45-c01143313cce",
      "name": "createTask",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "",
              "tests[\"Task is not empty\"] = jsonData.result.result > 0",
              "",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "{{server}}/web/dataset/create",
        "method": "POST",
        "header": [
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "description": ""
          },
          {
            "key": "Content-Type",
            "value": "application/json;charset=UTF-8",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n\t\"id\":\"r136\",\n    \"jsonrpc\":\"2.0\",\n    \"method\":\"call\",\n    \"params\":{\n        \"data\":{\n            \"project_id\":1823,\n            \"name\":\"ffff\",\n            \"service_id\":2,\n            \"planned_hours\":2,\n            \"category_id\":33,\n            \"user_id\":57,\n            \"date_start\":\"2017-04-28 06:30:00\",\n            \"date_end\":\"2017-04-28 08:30:00\"\n        },\n        \"model\":\"project.task\",\n        \"session_id\":\"{{sessionId}}\",\n        \"context\":{\n            \"__ref\":\"compound_context\",\n            \"__contexts\":[\n                {\n                    \"lang\":\"fr_FR\",\n                    \"tz\":\"Europe/Paris\",\n                    \"uid\":{{uid}}\n                },\n                {\n                    \"bin_size\":true\n                }\n            ],\n            \"__eval_context\":null\n        }\n    }\n}"
        },
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "a02cfc6c-c4eb-a5d8-475a-9b6acb952edb",
      "name": "Create Compteur",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "",
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "tests[\"Compteur exist\"] = jsonData.result.result > 0;"
            ]
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var text = \"\";",
              "var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";",
              "",
              "for( var i=0; i < 15; i++ )",
              "    text += possible.charAt(Math.floor(Math.random() * possible.length));",
              "    ",
              "postman.setEnvironmentVariable(\"ref\", text);",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "{{server}}/web/dataset/create",
        "method": "POST",
        "header": [
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "description": ""
          },
          {
            "key": "Content-Type",
            "value": "application/json;charset=UTF-8",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"jsonrpc\":\"2.0\",\n    \"method\":\"call\",\n    \"params\":{\n        \"data\":{\n            \"name\":\"Test Compteur1\",\n            \"categ_id\":22,\n            \"ref\":\"{{ref}}\",\n            \"category_id\":1\n        },\n        \"model\":\"opengst.fluids.meter\",\n        \"session_id\":\"{{sessionId}}\",\n        \"context\":{\n            \"__ref\":\"compound_context\",\n            \"__contexts\":[\n                {\n                    \"lang\":\"fr_FR\",\n                    \"tz\":\"Europe/Paris\",\n                    \"uid\":{{uid}}\n                },\n                {\n                    \"bin_size\":true\n                }\n            ],\n            \"__eval_context\":null\n        }\n    },\n    \"id\":\"r87\"\n}"
        },
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "68dca634-9039-a659-b253-b36ff1d68eee",
      "name": "Update Compteur",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "tests[\"Status code is 200\"] = responseCode.code === 200;"
            ]
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var text = \"\";",
              "var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";",
              "",
              "for( var i=0; i < 15; i++ )",
              "    text += possible.charAt(Math.floor(Math.random() * possible.length));",
              "    ",
              "postman.setEnvironmentVariable(\"ref1\", text);",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "https://gst-dev.atreal-ouest.fr/web/dataset/save",
        "method": "POST",
        "header": [
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "description": ""
          },
          {
            "key": "Content-Type",
            "value": "application/json;charset=UTF-8",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"jsonrpc\":\"2.0\",\n    \"method\":\"call\",\n    \"params\":{\n        \"data\":{\n            \"categ_id\":22,\n            \"name\":\"Test Compteur221\",\n            \"ref\":\"{{ref1}}\",\n            \"site_id\":false,\n            \"category_id\":3,\n            \"site_repartitions\":[\n\n            ]\n        },\n        \"model\":\"opengst.fluids.meter\",\n        \"id\":17,\n        \"session_id\":\"{{sessionId}}\",\n        \"context\":{\n            \"__ref\":\"compound_context\",\n            \"__contexts\":[\n                {\n                    \"lang\":\"fr_FR\",\n                    \"tz\":\"Europe/Paris\",\n                    \"uid\":{{uid}}\n                },\n                {\n                    \"bin_size\":true\n                }\n            ],\n            \"__eval_context\":null\n        }\n    },\n    \"id\":\"r94\"\n}"
        },
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "42abed87-2065-17c6-dc36-08aa2a3280e8",
      "name": "Search&Read Compteur",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "",
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "tests[\"Compteur exist\"] = jsonData.result.length > 0;",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "https://gst-dev.atreal-ouest.fr/web/dataset/search_read",
        "method": "POST",
        "header": [
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "description": ""
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"jsonrpc\":\"2.0\",\n    \"method\":\"call\",\n    \"params\":{\n        \"limit\":20,\n        \"offset\":0,\n        \"model\":\"opengst.fluids.meter\",\n        \"fields\":[\n            \"id\",\n            \"actions\",\n            \"name\",\n            \"site_id\",\n            \"categ_id\",\n            \"category_id\",\n            \"ref\",\n            \"site_repartition_ids\"\n        ],\n        \"session_id\":\"{{sessionId}}\",\n        \"context\":{\n            \"__ref\":\"compound_context\",\n            \"__contexts\":[\n                {\n                    \"lang\":\"fr_FR\",\n                    \"tz\":\"Europe/Paris\",\n                    \"uid\":{{uid}}\n                },\n                {\n                    \"bin_size\":true\n                }\n            ],\n            \"__eval_context\":null\n        }\n    },\n    \"id\":\"r96\"\n}"
        },
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "bb81a459-436b-ee65-d438-365ff71674cb",
      "name": "Delete Compteur",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "tests[\"Delete Success\"] = jsonData.result === true;"
            ]
          }
        }
      ],
      "request": {
        "url": "{{server}}/web/dataset/unlink",
        "method": "POST",
        "header": [
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "description": ""
          },
          {
            "key": "Content-Type",
            "value": "application/json;charset=UTF-8",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"jsonrpc\":\"2.0\",\n    \"method\":\"call\",\n    \"params\":{\n        \"model\":\"opengst.fluids.meter\",\n        \"ids\":[\n            17\n        ],\n        \"session_id\":\"{{sessionId}}\",\n        \"context\":{\n            \"__ref\":\"compound_context\",\n            \"__contexts\":[\n                {\n                    \"lang\":\"fr_FR\",\n                    \"tz\":\"Europe/Paris\",\n                    \"uid\":{{uid}}\n                },\n                {\n                    \"bin_size\":true\n                }\n            ],\n            \"__eval_context\":null\n        }\n    },\n    \"id\":\"r97\"\n}"
        },
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "4d21dfcc-e763-ac97-ba38-ae052452fe89",
      "name": "Create Site",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "",
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "tests[\"Check site exist\"] = jsonData.result.result >0;"
            ]
          }
        }
      ],
      "request": {
        "url": "{{server}}/web/dataset/create",
        "method": "POST",
        "header": [
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "description": ""
          },
          {
            "key": "Content-Type",
            "value": "application/json;charset=UTF-8",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"jsonrpc\":\"2.0\",\n    \"method\":\"call\",\n    \"params\":{\n        \"data\":{\n            \"osm_zoom\":false,\n            \"osm_type\":false,\n            \"osm_id\":false,\n            \"geometry\":false,\n            \"internal_booking\":false,\n            \"external_booking\":false,\n            \"block_booking\":false,\n            \"product_image\":false,\n            \"name\":\"CreateTest\",\n            \"type_id\":80\n        },\n        \"model\":\"openstc.site\",\n        \"session_id\":\"{{sessionId}}\",\n        \"context\":{\n            \"__ref\":\"compound_context\",\n            \"__contexts\":[\n                {\n                    \"lang\":\"fr_FR\",\n                    \"tz\":\"Europe/Paris\",\n                    \"uid\":{{uid}}\n                },\n                {\n                    \"bin_size\":true\n                }\n            ],\n            \"__eval_context\":null\n        }\n    },\n    \"id\":\"r156\"\n}"
        },
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "b827ad8f-5a33-e5b1-62a7-a14b5528d4c0",
      "name": "Update Site",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "",
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "tests[\"Update success\"]= jsonData.result.result ===true;"
            ]
          }
        }
      ],
      "request": {
        "url": "{{server}}/web/dataset/save",
        "method": "POST",
        "header": [
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "description": ""
          },
          {
            "key": "Content-Type",
            "value": "application/json;charset=UTF-8",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"jsonrpc\":\"2.0\",\n    \"method\":\"call\",\n    \"params\":{\n        \"data\":{\n            \"code\":false,\n            \"type_id\":68,\n            \"color\":\"#390A10\",\n            \"surface\":0,\n            \"active\":true,\n            \"block_booking\":false,\n            \"osm_id\":false,\n            \"resa_user_manager_ids\":[\n                [\n                    6,\n                    0,\n                    [\n\n                    ]\n                ]\n            ],\n            \"max_bookable_qty\":0,\n            \"site_parent_id\":313,\n            \"width\":0,\n            \"resa_service_manager_ids\":[\n                [\n                    6,\n                    0,\n                    [\n\n                    ]\n                ]\n            ],\n            \"length\":0,\n            \"long\":0,\n            \"internal_bookable_notice\":0,\n            \"geo_point\":false,\n            \"partner_type_bookable_ids\":[\n                [\n                    6,\n                    0,\n                    [\n\n                    ]\n                ]\n            ],\n            \"service_bookable_ids\":[\n                [\n                    6,\n                    0,\n                    [\n\n                    ]\n                ]\n            ],\n            \"description_sale\":false,\n            \"osm_zoom\":false,\n            \"openresa_property_manager_id\":1,\n            \"lat\":0,\n            \"name\":\"1er Ã©tage test\",\n            \"service_ids\":[\n                [\n                    6,\n                    0,\n                    [\n\n                    ]\n                ]\n            ],\n            \"product_id\":648,\n            \"optional_product_ids\":[\n                [\n                    6,\n                    0,\n                    [\n\n                    ]\n                ]\n            ],\n            \"geometry\":false,\n            \"osm_type\":false,\n            \"internal_booking\":false,\n            \"external_booking\":false,\n            \"option_of_product_ids\":[\n                [\n                    6,\n                    0,\n                    [\n\n                    ]\n                ]\n            ],\n            \"external_bookable_notice\":0,\n            \"accommodation_capacity\":0,\n            \"product_image\":false\n        },\n        \"model\":\"openstc.site\",\n        \"id\":1151,\n        \"session_id\":\"{{sessionId}}\",\n        \"context\":{\n            \"__ref\":\"compound_context\",\n            \"__contexts\":[\n                {\n                    \"lang\":\"fr_FR\",\n                    \"tz\":\"Europe/Paris\",\n                    \"uid\":{{uid}}\n                },\n                {\n                    \"bin_size\":true\n                }\n            ],\n            \"__eval_context\":null\n        }\n    },\n    \"id\":\"r199\"\n}"
        },
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "31717783-13d9-ac1d-81ef-ba8a237f4358",
      "name": "Search Read Site",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "",
              "var jsonData = JSON.parse(responseBody);",
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "//Demandeur externe can only read the site",
              "tests[\"Check site exist\"] = jsonData.result.records.length > 0;",
              "",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "{{server}}/web/dataset/search_read",
        "method": "POST",
        "header": [
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "description": ""
          },
          {
            "key": "//X-DevTools-Emulate-Network-Conditions-Client-Id",
            "value": "f55002dd-9cf3-4ebf-ba56-72718a383a86",
            "description": "",
            "disabled": true
          },
          {
            "key": "Content-Type",
            "value": "application/json;charset=UTF-8",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n\t\"id\":\"r161\",\n    \"jsonrpc\":\"2.0\",\n    \"method\":\"call\",\n    \"params\":{\n        \"sort\":\"name ASC\",\n        \"limit\":20,\n        \"offset\":0,\n        \"model\":\"openstc.site\",\n        \"fields\":[\n            \"active\",\n            \"actions\",\n            \"attachment_count\",\n            \"block_booking\",\n            \"code\",\n            \"description_sale\",\n            \"external_booking\",\n            \"external_bookable_notice\",\n            \"internal_booking\",\n            \"internal_bookable_notice\",\n            \"lat\",\n            \"long\",\n            \"length\",\n            \"max_bookable_qty\",\n            \"name\",\n            \"openresa_property_manager_id\",\n            \"partner_type_bookable_ids\",\n            \"pricelist_id\",\n            \"product_id\",\n            \"service_ids\",\n            \"service_names\",\n            \"service_bookable_ids\",\n            \"site_parent_id\",\n            \"surface\",\n            \"type_id\",\n            \"width\",\n            \"color\",\n            \"resa_service_manager_ids\",\n            \"resa_user_manager_ids\",\n            \"optional_product_ids\",\n            \"option_of_product_ids\",\n            \"accomodation_capacity\",\n            \"phone\",\n            \"geometry\",\n            \"geo_point\",\n            \"osm_type\",\n            \"osm_id\",\n            \"osm_zoom\"\n        ],\n        \"session_id\":\"{{sessionId}}\",\n        \"context\":{\n            \"__ref\":\"compound_context\",\n            \"__contexts\":[\n                {\n                    \"lang\":\"fr_FR\",\n                    \"tz\":\"Europe/Paris\",\n                    \"uid\":{{uid}}\n                },\n                {\n                    \"bin_size\":true\n                }\n            ],\n            \"__eval_context\":null\n        }\n    }\n\n}"
        },
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "5cc54ee1-8447-17c2-8461-12ee252430b1",
      "name": "get Site \"openstc.site\"",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "tests[\"Site openSTC exist\"] = jsonData.result.length >0;",
              "",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "{{server}}/web/dataset/get",
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json;charset=UTF-8",
            "description": ""
          },
          {
            "key": "Accept",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"id\": \"r3\",\r\n  \"jsonrpc\": \"2.0\",\r\n  \"method\": \"call\",\r\n  \"params\": {\r\n    \"model\": \"openstc.site\",\r\n    \"ids\": [\r\n      1\r\n    ],\r\n    \"session_id\": \"{{sessionId}}\",\r\n    \"context\": {\r\n      \"__ref\": \"compound_context\",\r\n      \"__contexts\": [\r\n        {\r\n          \"lang\": \"fr_FR\",\r\n          \"tz\": \"Europe/Paris\",\r\n          \"uid\": {{uid}}\r\n        },\r\n        {\r\n          \"bin_size\": true\r\n        }\r\n      ],\r\n      \"__eval_context\": null\r\n    }\r\n  }\r\n}"
        },
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "496cbe72-c8fb-c7aa-af14-7b349f84372d",
      "name": "Deactivate Site",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "",
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "tests[\"Deactivate success\"] = jsonData.result.result ===true;"
            ]
          }
        }
      ],
      "request": {
        "url": "{{server}}/web/dataset/save",
        "method": "POST",
        "header": [
          {
            "key": "Accept",
            "value": "application/json, text/plain, */*",
            "description": ""
          },
          {
            "key": "Content-Type",
            "value": "application/json;charset=UTF-8",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"jsonrpc\":\"2.0\",\n    \"method\":\"call\",\n    \"params\":{\n        \"data\":{\n            \"active\":false\n        },\n        \"model\":\"openstc.site\",\n        \"id\":1158,\n        \"session_id\":\"{{sessionId}}\",\n        \"context\":{\n            \"__ref\":\"compound_context\",\n            \"__contexts\":[\n                {\n                    \"lang\":\"fr_FR\",\n                    \"tz\":\"Europe/Paris\",\n                    \"uid\":{{uid}}\n                },\n                {\n                    \"bin_size\":true\n                }\n            ],\n            \"__eval_context\":null\n        }\n    },\n    \"id\":\"r238\"\n}"
        },
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "e6318c29-408b-3887-4dcd-b596535f988b",
      "name": "search_read Site \"openstc.site\" copy",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "tests[\"Site openSTC exist\"] = jsonData.result.length >0;",
              "tests[\"Check id\"] = jsonData.id ===\"r5\";",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "{{server}}/web/dataset/search_read",
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json;charset=UTF-8",
            "description": ""
          },
          {
            "key": "Accept",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"id\": \"r5\",\r\n  \"jsonrpc\": \"2.0\",\r\n  \"method\": \"call\",\r\n  \"params\": {\r\n    \"sort\": \"id DESC\",\r\n    \"limit\": 10,\r\n    \"offset\": 0,\r\n    \"model\": \"openstc.site\",\r\n    \"session_id\": \"{{sessionId}}\",\r\n    \"context\": {\r\n      \"__ref\": \"compound_context\",\r\n      \"__contexts\": [\r\n        {\r\n          \"lang\": \"fr_FR\",\r\n          \"tz\": \"Europe/Paris\",\r\n          \"uid\": \"{{uid}}\"\r\n        },\r\n        {\r\n          \"bin_size\": true\r\n        }\r\n      ],\r\n      \"__eval_context\": null\r\n    }\r\n  }\r\n}"
        },
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "955465eb-7ad2-7c0d-3353-d30edbbc3010",
      "name": "Create equipement openstc.equipement copy",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "",
              "tests[\"Status code is 200\"] = responseCode.code === 200;",
              "tests[\"equipement is not empty\"] = jsonData.result.result >0;",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "{{server}}/web/dataset/create",
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json;charset=UTF-8",
            "description": ""
          },
          {
            "key": "Accept-Language",
            "value": "fr-FR,fr;q=0.8,en-US;q=0.6,en;q=0.4",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"jsonrpc\":\"2.0\",\n    \"method\":\"call\",\n    \"params\":{\n        \"data\":{\n            \"qty_available\":1,\n            \"internal_booking\":false,\n            \"external_booking\":false,\n            \"block_booking\":false,\n            \"internal_use\":false,\n            \"product_image\":false,\n            \"categ_id\":14,\n            \"name\":\"Clio\",\n            \"new_qty\":1\n        },\n        \"model\":\"openstc.equipment\",\n        \"session_id\":\"{{sessionId}}\",\n        \"context\":{\n            \"__ref\":\"compound_context\",\n            \"__contexts\":[\n                {\n                    \"lang\":\"fr_FR\",\n                    \"tz\":\"Europe/Paris\",\n                    \"uid\":{{uid}}\n                },\n                {\n                    \"bin_size\":true\n                }\n            ],\n            \"__eval_context\":null\n        }\n    },\n    \"id\":\"r51\"\n}"
        },
        "description": ""
      },
      "response": []
    }
  ]
}